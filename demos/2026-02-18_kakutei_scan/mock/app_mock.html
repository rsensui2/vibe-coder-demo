<!DOCTYPE html>
<html lang="ja">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>ã‚«ã‚¯ã‚¹ã‚­ãƒ£ãƒ³ï¼ˆKakuScanï¼‰- ãƒ¢ãƒƒã‚¯ã‚¢ãƒ—ãƒª</title>
<style>
/* ========== RESET & BASE ========== */
*, *::before, *::after { margin: 0; padding: 0; box-sizing: border-box; }
body {
  font-family: -apple-system, BlinkMacSystemFont, 'Hiragino Sans', 'Yu Gothic', sans-serif;
  background: #e8ecf1;
  display: flex;
  justify-content: center;
  align-items: center;
  min-height: 100vh;
  color: #2D3748;
}

/* ========== iPhone FRAME ========== */
.phone-frame {
  width: 375px;
  height: 812px;
  background: #000;
  border-radius: 50px;
  padding: 12px;
  box-shadow: 0 30px 80px rgba(0,0,0,0.35), 0 0 0 2px #333, inset 0 0 0 2px #1a1a1a;
  position: relative;
}
.phone-screen {
  width: 100%;
  height: 100%;
  background: #FAFBFC;
  border-radius: 40px;
  overflow: hidden;
  position: relative;
  display: flex;
  flex-direction: column;
}
/* Notch */
.notch {
  position: absolute;
  top: 0;
  left: 50%;
  transform: translateX(-50%);
  width: 160px;
  height: 34px;
  background: #000;
  border-radius: 0 0 20px 20px;
  z-index: 100;
}
.notch::after {
  content: '';
  position: absolute;
  top: 10px;
  right: 40px;
  width: 12px;
  height: 12px;
  background: #1a1a2e;
  border-radius: 50%;
  border: 2px solid #2a2a3e;
}

/* ========== STATUS BAR ========== */
.status-bar {
  height: 50px;
  display: flex;
  justify-content: space-between;
  align-items: flex-end;
  padding: 0 28px 6px;
  font-size: 14px;
  font-weight: 600;
  background: #1E3A5F;
  color: #fff;
  flex-shrink: 0;
  position: relative;
  z-index: 50;
}
.status-bar-right {
  display: flex;
  gap: 6px;
  align-items: center;
  font-size: 12px;
}
.battery {
  width: 22px;
  height: 11px;
  border: 1.5px solid #fff;
  border-radius: 2px;
  position: relative;
}
.battery::after {
  content: '';
  position: absolute;
  right: -4px;
  top: 2px;
  width: 2px;
  height: 5px;
  background: #fff;
  border-radius: 0 1px 1px 0;
}
.battery-fill {
  width: 70%;
  height: 100%;
  background: #00C853;
  border-radius: 1px;
}

/* ========== HEADER ========== */
.app-header {
  background: #1E3A5F;
  color: #fff;
  padding: 0 20px 16px;
  flex-shrink: 0;
}
.app-header h1 {
  font-size: 20px;
  font-weight: 700;
  letter-spacing: 0.5px;
}
.app-header .subtitle {
  font-size: 11px;
  opacity: 0.7;
  margin-top: 2px;
}

/* ========== CONTENT AREA ========== */
.content-area {
  flex: 1;
  overflow-y: auto;
  overflow-x: hidden;
  position: relative;
}
.screen {
  display: none;
  padding: 16px;
  animation: fadeSlideIn 0.35s ease;
  min-height: 100%;
}
.screen.active {
  display: block;
}
@keyframes fadeSlideIn {
  from { opacity: 0; transform: translateY(12px); }
  to { opacity: 1; transform: translateY(0); }
}

/* ========== TAB BAR ========== */
.tab-bar {
  display: flex;
  height: 80px;
  background: #fff;
  border-top: 1px solid #e2e8f0;
  flex-shrink: 0;
  padding-bottom: 16px;
  position: relative;
  z-index: 50;
}
.tab-item {
  flex: 1;
  display: flex;
  flex-direction: column;
  align-items: center;
  justify-content: center;
  gap: 3px;
  cursor: pointer;
  color: #a0aec0;
  font-size: 10px;
  font-weight: 500;
  transition: color 0.2s;
  position: relative;
  -webkit-tap-highlight-color: transparent;
}
.tab-item.active {
  color: #1E3A5F;
}
.tab-item svg {
  width: 24px;
  height: 24px;
  transition: transform 0.2s;
}
.tab-item.active svg {
  transform: scale(1.1);
}
.tab-item .tab-dot {
  position: absolute;
  top: 6px;
  right: calc(50% - 18px);
  width: 8px;
  height: 8px;
  background: #FF8F00;
  border-radius: 50%;
  border: 2px solid #fff;
}
/* Scan button special */
.tab-item.scan-tab {
  position: relative;
}
.tab-item.scan-tab .scan-btn-bg {
  width: 52px;
  height: 52px;
  background: linear-gradient(135deg, #00C853, #00E676);
  border-radius: 50%;
  display: flex;
  align-items: center;
  justify-content: center;
  margin-top: -20px;
  box-shadow: 0 4px 15px rgba(0,200,83,0.4);
  transition: transform 0.2s, box-shadow 0.2s;
}
.tab-item.scan-tab:hover .scan-btn-bg {
  transform: scale(1.08);
  box-shadow: 0 6px 20px rgba(0,200,83,0.5);
}
.tab-item.scan-tab .scan-btn-bg svg {
  width: 26px;
  height: 26px;
  color: #fff;
}
.tab-item.scan-tab.active {
  color: #00C853;
}

/* ========== CARDS ========== */
.card {
  background: #fff;
  border-radius: 16px;
  padding: 16px;
  margin-bottom: 12px;
  box-shadow: 0 2px 12px rgba(0,0,0,0.06);
}
.card-title {
  font-size: 13px;
  font-weight: 700;
  color: #1E3A5F;
  margin-bottom: 12px;
  display: flex;
  align-items: center;
  gap: 6px;
}
.card-title .icon {
  font-size: 16px;
}

/* ========== SCREEN 1: HOME ========== */
.greeting {
  font-size: 15px;
  font-weight: 600;
  margin-bottom: 4px;
}
.greeting-sub {
  font-size: 12px;
  color: #718096;
  margin-bottom: 16px;
}
.summary-amount {
  text-align: center;
  padding: 8px 0;
}
.summary-amount .label {
  font-size: 11px;
  color: #718096;
}
.summary-amount .amount {
  font-size: 32px;
  font-weight: 800;
  color: #1E3A5F;
  letter-spacing: -1px;
}
.summary-amount .yen {
  font-size: 18px;
  font-weight: 600;
}
/* Pie Chart */
.pie-container {
  display: flex;
  align-items: center;
  gap: 16px;
  margin: 12px 0;
}
.pie-chart {
  width: 120px;
  height: 120px;
  border-radius: 50%;
  background: conic-gradient(
    #1E3A5F 0deg 108deg,
    #00C853 108deg 194deg,
    #FF8F00 194deg 259deg,
    #5C6BC0 259deg 317deg,
    #e0e0e0 317deg 360deg
  );
  position: relative;
  flex-shrink: 0;
}
.pie-chart::after {
  content: '';
  position: absolute;
  inset: 28px;
  background: #fff;
  border-radius: 50%;
}
.pie-chart .pie-center {
  position: absolute;
  inset: 0;
  display: flex;
  align-items: center;
  justify-content: center;
  z-index: 2;
  font-size: 11px;
  font-weight: 700;
  color: #1E3A5F;
}
.legend {
  display: flex;
  flex-direction: column;
  gap: 6px;
  font-size: 11px;
}
.legend-item {
  display: flex;
  align-items: center;
  gap: 6px;
}
.legend-dot {
  width: 10px;
  height: 10px;
  border-radius: 3px;
  flex-shrink: 0;
}
.legend-label {
  color: #718096;
  flex: 1;
}
.legend-val {
  font-weight: 700;
  color: #2D3748;
}

/* Alert badge */
.alert-card {
  background: linear-gradient(135deg, #FFF3E0, #FFF8E1);
  border: 1px solid #FFE0B2;
  border-radius: 14px;
  padding: 14px 16px;
  display: flex;
  align-items: center;
  gap: 12px;
  margin-bottom: 12px;
  cursor: pointer;
  transition: transform 0.2s;
}
.alert-card:hover { transform: scale(1.01); }
.alert-badge {
  width: 40px;
  height: 40px;
  background: #FF8F00;
  border-radius: 12px;
  display: flex;
  align-items: center;
  justify-content: center;
  color: #fff;
  font-size: 18px;
  font-weight: 800;
}
.alert-text .alert-main {
  font-size: 13px;
  font-weight: 700;
  color: #E65100;
}
.alert-text .alert-sub {
  font-size: 11px;
  color: #BF360C;
  margin-top: 2px;
}

/* Recent list */
.recent-item {
  display: flex;
  align-items: center;
  padding: 10px 0;
  border-bottom: 1px solid #f0f0f0;
  gap: 12px;
}
.recent-item:last-child { border-bottom: none; }
.recent-icon {
  width: 36px;
  height: 36px;
  border-radius: 10px;
  display: flex;
  align-items: center;
  justify-content: center;
  font-size: 16px;
  flex-shrink: 0;
}
.recent-info {
  flex: 1;
}
.recent-name {
  font-size: 13px;
  font-weight: 600;
}
.recent-date {
  font-size: 11px;
  color: #a0aec0;
}
.recent-amount {
  font-size: 14px;
  font-weight: 700;
  color: #1E3A5F;
}

/* ========== SCREEN 2: SCAN ========== */
.scan-screen {
  padding: 0 !important;
  background: #000;
  display: flex;
  flex-direction: column;
  height: 100%;
  position: relative;
}
.scan-screen.active {
  display: flex;
}
.camera-view {
  flex: 1;
  background: linear-gradient(145deg, #1a1a2e 0%, #16213e 50%, #0f3460 100%);
  position: relative;
  display: flex;
  align-items: center;
  justify-content: center;
  overflow: hidden;
}
/* Scan animation lines */
.camera-view::before {
  content: '';
  position: absolute;
  top: 0;
  left: 0;
  right: 0;
  height: 2px;
  background: linear-gradient(90deg, transparent, #00C853, transparent);
  animation: scanLine 2.5s ease-in-out infinite;
  z-index: 5;
}
@keyframes scanLine {
  0% { top: 20%; opacity: 0; }
  10% { opacity: 1; }
  90% { opacity: 1; }
  100% { top: 75%; opacity: 0; }
}
/* Simulated receipt in camera */
.fake-receipt {
  width: 180px;
  background: rgba(255,255,255,0.08);
  border: 1px dashed rgba(255,255,255,0.15);
  border-radius: 8px;
  padding: 16px 12px;
  color: rgba(255,255,255,0.25);
  font-size: 10px;
  line-height: 1.8;
  text-align: center;
}
.fake-receipt .receipt-title {
  font-size: 13px;
  font-weight: 700;
  margin-bottom: 8px;
  color: rgba(255,255,255,0.3);
}
/* Corner markers */
.scan-corners {
  position: absolute;
  inset: 15% 12%;
  pointer-events: none;
}
.scan-corner {
  position: absolute;
  width: 28px;
  height: 28px;
  border-color: #00C853;
  border-style: solid;
  border-width: 0;
}
.scan-corner.tl { top: 0; left: 0; border-top-width: 3px; border-left-width: 3px; border-radius: 6px 0 0 0; }
.scan-corner.tr { top: 0; right: 0; border-top-width: 3px; border-right-width: 3px; border-radius: 0 6px 0 0; }
.scan-corner.bl { bottom: 0; left: 0; border-bottom-width: 3px; border-left-width: 3px; border-radius: 0 0 0 6px; }
.scan-corner.br { bottom: 0; right: 0; border-bottom-width: 3px; border-right-width: 3px; border-radius: 0 0 6px 0; }
/* Guide text */
.scan-guide {
  position: absolute;
  bottom: 28%;
  left: 0;
  right: 0;
  text-align: center;
  color: rgba(255,255,255,0.8);
  font-size: 13px;
  font-weight: 500;
}
/* Controls */
.scan-controls {
  background: #000;
  padding: 24px 0 12px;
  display: flex;
  flex-direction: column;
  align-items: center;
  gap: 12px;
}
.capture-btn {
  width: 68px;
  height: 68px;
  border-radius: 50%;
  border: 4px solid #fff;
  background: transparent;
  cursor: pointer;
  position: relative;
  transition: transform 0.15s;
}
.capture-btn:active {
  transform: scale(0.9);
}
.capture-btn::after {
  content: '';
  position: absolute;
  inset: 4px;
  background: #fff;
  border-radius: 50%;
  transition: background 0.15s;
}
.capture-btn:active::after {
  background: #00C853;
}
.scan-options {
  display: flex;
  gap: 32px;
  color: rgba(255,255,255,0.6);
  font-size: 11px;
}
.scan-option {
  display: flex;
  flex-direction: column;
  align-items: center;
  gap: 4px;
  cursor: pointer;
}
.scan-option-icon {
  width: 36px;
  height: 36px;
  border-radius: 50%;
  background: rgba(255,255,255,0.1);
  display: flex;
  align-items: center;
  justify-content: center;
  font-size: 16px;
}

/* ========== SCREEN 3: OCR RESULT ========== */
.result-header {
  text-align: center;
  margin-bottom: 16px;
}
.result-check {
  width: 56px;
  height: 56px;
  border-radius: 50%;
  background: linear-gradient(135deg, #00C853, #69F0AE);
  display: flex;
  align-items: center;
  justify-content: center;
  margin: 0 auto 10px;
  color: #fff;
  font-size: 28px;
  animation: popIn 0.4s ease;
}
@keyframes popIn {
  0% { transform: scale(0); }
  70% { transform: scale(1.15); }
  100% { transform: scale(1); }
}
.result-header h2 {
  font-size: 17px;
  font-weight: 700;
  color: #1E3A5F;
}
.result-header p {
  font-size: 12px;
  color: #718096;
  margin-top: 2px;
}
/* OCR Result Card */
.ocr-card {
  background: #fff;
  border-radius: 16px;
  overflow: hidden;
  box-shadow: 0 4px 20px rgba(0,0,0,0.08);
  margin-bottom: 16px;
}
.ocr-card-header {
  background: linear-gradient(135deg, #1E3A5F, #2c5282);
  color: #fff;
  padding: 16px;
  display: flex;
  align-items: center;
  gap: 12px;
}
.ocr-store-icon {
  width: 44px;
  height: 44px;
  background: rgba(255,255,255,0.15);
  border-radius: 12px;
  display: flex;
  align-items: center;
  justify-content: center;
  font-size: 22px;
}
.ocr-store-name {
  font-size: 17px;
  font-weight: 700;
}
.ocr-store-branch {
  font-size: 11px;
  opacity: 0.7;
}
.ocr-fields {
  padding: 16px;
}
.ocr-field {
  display: flex;
  justify-content: space-between;
  align-items: center;
  padding: 12px 0;
  border-bottom: 1px solid #f0f4f8;
}
.ocr-field:last-child { border-bottom: none; }
.ocr-field-label {
  font-size: 12px;
  color: #718096;
}
.ocr-field-value {
  font-size: 14px;
  font-weight: 600;
  color: #2D3748;
}
.ocr-field-value.amount {
  font-size: 22px;
  font-weight: 800;
  color: #1E3A5F;
}
.ai-badge {
  display: inline-flex;
  align-items: center;
  gap: 4px;
  background: linear-gradient(135deg, #E8F5E9, #C8E6C9);
  color: #2E7D32;
  font-size: 11px;
  font-weight: 700;
  padding: 4px 10px;
  border-radius: 20px;
}
.ai-badge .confidence {
  color: #1B5E20;
}
/* Buttons */
.btn-row {
  display: flex;
  gap: 10px;
  margin-top: 4px;
}
.btn {
  flex: 1;
  padding: 14px;
  border: none;
  border-radius: 14px;
  font-size: 14px;
  font-weight: 700;
  cursor: pointer;
  transition: transform 0.15s, box-shadow 0.15s;
  display: flex;
  align-items: center;
  justify-content: center;
  gap: 6px;
}
.btn:active { transform: scale(0.97); }
.btn-primary {
  background: linear-gradient(135deg, #00C853, #00E676);
  color: #fff;
  box-shadow: 0 4px 15px rgba(0,200,83,0.3);
}
.btn-secondary {
  background: #f0f4f8;
  color: #1E3A5F;
}
.btn-accent {
  background: linear-gradient(135deg, #1E3A5F, #2c5282);
  color: #fff;
  box-shadow: 0 4px 15px rgba(30,58,95,0.3);
}
.btn-warning {
  background: linear-gradient(135deg, #FF8F00, #FFA726);
  color: #fff;
  box-shadow: 0 4px 15px rgba(255,143,0,0.3);
}

/* ========== SCREEN 4: JOURNAL LIST ========== */
.month-tabs {
  display: flex;
  gap: 6px;
  margin-bottom: 12px;
  overflow-x: auto;
  -webkit-overflow-scrolling: touch;
}
.month-tab {
  padding: 7px 16px;
  border-radius: 20px;
  font-size: 12px;
  font-weight: 600;
  white-space: nowrap;
  cursor: pointer;
  background: #f0f4f8;
  color: #718096;
  transition: all 0.2s;
}
.month-tab.active {
  background: #1E3A5F;
  color: #fff;
}
.filter-row {
  display: flex;
  gap: 6px;
  margin-bottom: 12px;
  flex-wrap: wrap;
}
.filter-chip {
  padding: 5px 12px;
  border-radius: 16px;
  font-size: 11px;
  font-weight: 600;
  cursor: pointer;
  border: 1.5px solid #e2e8f0;
  color: #718096;
  background: #fff;
  transition: all 0.2s;
}
.filter-chip.active {
  border-color: #00C853;
  color: #00C853;
  background: #E8F5E9;
}
.journal-card {
  background: #fff;
  border-radius: 14px;
  padding: 14px;
  margin-bottom: 10px;
  box-shadow: 0 2px 8px rgba(0,0,0,0.04);
  display: flex;
  align-items: center;
  gap: 12px;
  transition: transform 0.15s;
  cursor: pointer;
}
.journal-card:hover { transform: translateX(4px); }
.journal-emoji {
  width: 40px;
  height: 40px;
  border-radius: 12px;
  display: flex;
  align-items: center;
  justify-content: center;
  font-size: 18px;
  flex-shrink: 0;
}
.journal-info {
  flex: 1;
}
.journal-store {
  font-size: 13px;
  font-weight: 700;
  color: #2D3748;
}
.journal-meta {
  font-size: 11px;
  color: #a0aec0;
  margin-top: 2px;
  display: flex;
  gap: 8px;
}
.journal-right {
  text-align: right;
}
.journal-amount {
  font-size: 15px;
  font-weight: 800;
  color: #1E3A5F;
}
.journal-category {
  font-size: 10px;
  padding: 3px 8px;
  border-radius: 10px;
  font-weight: 600;
  margin-top: 3px;
  display: inline-block;
}

/* ========== SCREEN 5: REPORT ========== */
.report-toggle {
  display: flex;
  background: #f0f4f8;
  border-radius: 12px;
  padding: 3px;
  margin-bottom: 16px;
}
.report-toggle-item {
  flex: 1;
  padding: 8px;
  text-align: center;
  font-size: 12px;
  font-weight: 600;
  border-radius: 10px;
  cursor: pointer;
  color: #718096;
  transition: all 0.2s;
}
.report-toggle-item.active {
  background: #fff;
  color: #1E3A5F;
  box-shadow: 0 2px 8px rgba(0,0,0,0.08);
}
/* Bar chart */
.bar-chart {
  display: flex;
  align-items: flex-end;
  gap: 6px;
  height: 140px;
  padding: 0 4px;
  margin-bottom: 8px;
}
.bar-group {
  flex: 1;
  display: flex;
  flex-direction: column;
  align-items: center;
  gap: 4px;
  height: 100%;
  justify-content: flex-end;
}
.bar {
  width: 100%;
  border-radius: 6px 6px 2px 2px;
  min-height: 4px;
  transition: height 0.6s ease;
  position: relative;
}
.bar-value {
  font-size: 8px;
  font-weight: 700;
  color: #718096;
  text-align: center;
  margin-bottom: 2px;
}
.bar-label {
  font-size: 9px;
  color: #a0aec0;
  text-align: center;
}
/* Comparison */
.comparison-row {
  display: flex;
  justify-content: space-between;
  align-items: center;
  padding: 10px 0;
  border-bottom: 1px solid #f0f4f8;
}
.comparison-row:last-child { border-bottom: none; }
.comp-label {
  font-size: 12px;
  color: #718096;
}
.comp-values {
  display: flex;
  align-items: center;
  gap: 8px;
}
.comp-current {
  font-size: 14px;
  font-weight: 700;
  color: #1E3A5F;
}
.comp-change {
  font-size: 11px;
  font-weight: 700;
  padding: 2px 8px;
  border-radius: 10px;
}
.comp-change.up {
  background: #FFEBEE;
  color: #C62828;
}
.comp-change.down {
  background: #E8F5E9;
  color: #2E7D32;
}

/* ========== SCREEN 6: TAX RETURN ========== */
.tax-preview {
  background: #fff;
  border: 2px solid #1E3A5F;
  border-radius: 4px;
  padding: 16px;
  margin-bottom: 16px;
  position: relative;
}
.tax-preview-stamp {
  position: absolute;
  top: 10px;
  right: 10px;
  width: 48px;
  height: 48px;
  border: 2px solid #C62828;
  border-radius: 50%;
  display: flex;
  align-items: center;
  justify-content: center;
  color: #C62828;
  font-size: 9px;
  font-weight: 700;
  transform: rotate(-15deg);
  opacity: 0.7;
}
.tax-title {
  text-align: center;
  font-size: 14px;
  font-weight: 700;
  color: #1E3A5F;
  border-bottom: 2px solid #1E3A5F;
  padding-bottom: 8px;
  margin-bottom: 12px;
}
.tax-subtitle {
  text-align: center;
  font-size: 10px;
  color: #718096;
  margin-top: -10px;
  margin-bottom: 12px;
}
.tax-row {
  display: flex;
  justify-content: space-between;
  padding: 6px 0;
  font-size: 11px;
  border-bottom: 1px dotted #e2e8f0;
}
.tax-row:last-child { border-bottom: none; }
.tax-row-label {
  color: #718096;
}
.tax-row-value {
  font-weight: 700;
  color: #2D3748;
}
.tax-section-title {
  font-size: 11px;
  font-weight: 700;
  color: #1E3A5F;
  margin: 10px 0 6px;
  padding: 4px 8px;
  background: #f0f4f8;
  border-radius: 4px;
}
.tax-total-row {
  display: flex;
  justify-content: space-between;
  padding: 10px 0;
  font-size: 14px;
  font-weight: 800;
  color: #1E3A5F;
  border-top: 2px solid #1E3A5F;
  margin-top: 6px;
}
.progress-section {
  margin-bottom: 16px;
}
.progress-header {
  display: flex;
  justify-content: space-between;
  margin-bottom: 8px;
}
.progress-label {
  font-size: 12px;
  font-weight: 600;
  color: #2D3748;
}
.progress-pct {
  font-size: 12px;
  font-weight: 700;
  color: #00C853;
}
.progress-bar-bg {
  height: 8px;
  background: #f0f4f8;
  border-radius: 4px;
  overflow: hidden;
}
.progress-bar-fill {
  height: 100%;
  background: linear-gradient(90deg, #00C853, #69F0AE);
  border-radius: 4px;
  transition: width 1s ease;
}

/* ========== UTILITIES ========== */
.section-title {
  font-size: 14px;
  font-weight: 700;
  color: #1E3A5F;
  margin-bottom: 10px;
  display: flex;
  align-items: center;
  justify-content: space-between;
}
.section-title .more {
  font-size: 11px;
  color: #00C853;
  font-weight: 600;
  cursor: pointer;
}
.spacer { height: 80px; }
.text-center { text-align: center; }
.text-muted { color: #a0aec0; font-size: 11px; }
.mt-8 { margin-top: 8px; }
.mb-8 { margin-bottom: 8px; }

/* Pulse animation */
@keyframes pulse {
  0%, 100% { opacity: 1; }
  50% { opacity: 0.5; }
}
.pulse { animation: pulse 2s infinite; }

/* Shimmer */
@keyframes shimmer {
  0% { background-position: -200px 0; }
  100% { background-position: 200px 0; }
}

/* Floating notification */
.float-notif {
  position: absolute;
  top: 8px;
  left: 16px;
  right: 16px;
  background: linear-gradient(135deg, #1E3A5F, #2c5282);
  color: #fff;
  padding: 12px 16px;
  border-radius: 14px;
  font-size: 12px;
  font-weight: 600;
  display: none;
  align-items: center;
  gap: 8px;
  z-index: 200;
  box-shadow: 0 8px 30px rgba(30,58,95,0.3);
  animation: slideDown 0.3s ease;
}
@keyframes slideDown {
  from { transform: translateY(-20px); opacity: 0; }
  to { transform: translateY(0); opacity: 1; }
}

/* Category colors */
.cat-meeting { background: #E8F5E9; color: #2E7D32; }
.cat-travel { background: #E3F2FD; color: #1565C0; }
.cat-supplies { background: #FFF3E0; color: #E65100; }
.cat-food { background: #FCE4EC; color: #AD1457; }
.cat-comm { background: #F3E5F5; color: #6A1B9A; }
.cat-misc { background: #ECEFF1; color: #455A64; }

/* Emoji backgrounds */
.emoji-bg-green { background: #E8F5E9; }
.emoji-bg-blue { background: #E3F2FD; }
.emoji-bg-orange { background: #FFF3E0; }
.emoji-bg-pink { background: #FCE4EC; }
.emoji-bg-purple { background: #F3E5F5; }
.emoji-bg-gray { background: #ECEFF1; }

/* Responsive for non-mobile viewing */
@media (max-width: 420px) {
  body { padding: 0; }
  .phone-frame {
    width: 100%;
    height: 100vh;
    border-radius: 0;
    padding: 0;
    box-shadow: none;
  }
  .phone-screen { border-radius: 0; }
  .notch { display: none; }
}
</style>
</head>
<body>

<div class="phone-frame">
  <div class="phone-screen">
    <!-- Notch -->
    <div class="notch"></div>

    <!-- Status Bar -->
    <div class="status-bar">
      <span>18:25</span>
      <div class="status-bar-right">
        <span>5G</span>
        <div class="battery"><div class="battery-fill"></div></div>
      </div>
    </div>

    <!-- Header -->
    <div class="app-header">
      <h1>ğŸ“‹ ã‚«ã‚¯ã‚¹ã‚­ãƒ£ãƒ³</h1>
      <div class="subtitle">KakuScan - AIç¢ºå®šç”³å‘Šã‚¢ã‚·ã‚¹ã‚¿ãƒ³ãƒˆ</div>
    </div>

    <!-- Content Area -->
    <div class="content-area">
      <!-- Floating Notification -->
      <div class="float-notif" id="floatNotif">
        <span>âœ¨</span>
        <span id="notifText">èª­ã¿å–ã‚ŠãŒå®Œäº†ã—ã¾ã—ãŸ</span>
      </div>

      <!-- ===== SCREEN 1: HOME ===== -->
      <div class="screen active" id="screen-home">
        <div class="greeting">ã“ã‚“ã«ã¡ã¯ã€äº®ä»‹ã•ã‚“ ğŸ‘‹</div>
        <div class="greeting-sub">2026å¹´2æœˆã®çµŒè²»çŠ¶æ³ã§ã™</div>

        <!-- Alert -->
        <div class="alert-card" onclick="switchTab(2)">
          <div class="alert-badge">3</div>
          <div class="alert-text">
            <div class="alert-main">æœªå‡¦ç†ã®é ˜åæ›¸ãŒã‚ã‚Šã¾ã™</div>
            <div class="alert-sub">ã‚¿ãƒƒãƒ—ã—ã¦ã‚¹ã‚­ãƒ£ãƒ³ â†’ ä»•è¨³ã‚’å®Œäº†</div>
          </div>
        </div>

        <!-- Summary Card -->
        <div class="card">
          <div class="card-title"><span class="icon">ğŸ’°</span> ä»Šæœˆã®çµŒè²»ã‚µãƒãƒªãƒ¼</div>
          <div class="summary-amount">
            <div class="label">2026å¹´2æœˆ åˆè¨ˆ</div>
            <div class="amount"><span class="yen">Â¥</span>234,500</div>
          </div>
          <div class="pie-container">
            <div class="pie-chart">
              <div class="pie-center">5ç§‘ç›®</div>
            </div>
            <div class="legend">
              <div class="legend-item">
                <div class="legend-dot" style="background:#1E3A5F"></div>
                <span class="legend-label">äº¤é€šè²»</span>
                <span class="legend-val">Â¥70,350</span>
              </div>
              <div class="legend-item">
                <div class="legend-dot" style="background:#00C853"></div>
                <span class="legend-label">ä¼šè­°è²»</span>
                <span class="legend-val">Â¥56,200</span>
              </div>
              <div class="legend-item">
                <div class="legend-dot" style="background:#FF8F00"></div>
                <span class="legend-label">æ¶ˆè€—å“è²»</span>
                <span class="legend-val">Â¥42,300</span>
              </div>
              <div class="legend-item">
                <div class="legend-dot" style="background:#5C6BC0"></div>
                <span class="legend-label">é€šä¿¡è²»</span>
                <span class="legend-val">Â¥37,800</span>
              </div>
              <div class="legend-item">
                <div class="legend-dot" style="background:#e0e0e0"></div>
                <span class="legend-label">ãã®ä»–</span>
                <span class="legend-val">Â¥27,850</span>
              </div>
            </div>
          </div>
        </div>

        <!-- Recent Entries -->
        <div class="card">
          <div class="section-title">
            <span>ğŸ• æœ€è¿‘ã®ä»•è¨³</span>
            <span class="more" onclick="switchTab(4)">ã™ã¹ã¦è¦‹ã‚‹ â†’</span>
          </div>
          <div class="recent-item">
            <div class="recent-icon emoji-bg-green">â˜•</div>
            <div class="recent-info">
              <div class="recent-name">ã‚¹ã‚¿ãƒ¼ãƒãƒƒã‚¯ã‚¹</div>
              <div class="recent-date">2/15 Â· ä¼šè­°è²»</div>
            </div>
            <div class="recent-amount">Â¥580</div>
          </div>
          <div class="recent-item">
            <div class="recent-icon emoji-bg-blue">ğŸš„</div>
            <div class="recent-info">
              <div class="recent-name">JRæ±æ—¥æœ¬</div>
              <div class="recent-date">2/14 Â· äº¤é€šè²»</div>
            </div>
            <div class="recent-amount">Â¥12,870</div>
          </div>
          <div class="recent-item">
            <div class="recent-icon emoji-bg-orange">ğŸ–Šï¸</div>
            <div class="recent-info">
              <div class="recent-name">Amazon</div>
              <div class="recent-date">2/13 Â· æ¶ˆè€—å“è²»</div>
            </div>
            <div class="recent-amount">Â¥3,280</div>
          </div>
          <div class="recent-item">
            <div class="recent-icon emoji-bg-pink">ğŸ½ï¸</div>
            <div class="recent-info">
              <div class="recent-name">æ¾å±‹</div>
              <div class="recent-date">2/12 Â· ä¼šè­°è²»</div>
            </div>
            <div class="recent-amount">Â¥890</div>
          </div>
          <div class="recent-item">
            <div class="recent-icon emoji-bg-purple">ğŸ“±</div>
            <div class="recent-info">
              <div class="recent-name">ã‚½ãƒ•ãƒˆãƒãƒ³ã‚¯</div>
              <div class="recent-date">2/10 Â· é€šä¿¡è²»</div>
            </div>
            <div class="recent-amount">Â¥8,800</div>
          </div>
        </div>

        <!-- Quick Stats -->
        <div class="card">
          <div class="card-title"><span class="icon">ğŸ“Š</span> ã‚¯ã‚¤ãƒƒã‚¯çµ±è¨ˆ</div>
          <div style="display:flex;gap:8px;text-align:center;">
            <div style="flex:1;padding:10px;background:#f0f4f8;border-radius:12px;">
              <div style="font-size:22px;font-weight:800;color:#1E3A5F;">47</div>
              <div style="font-size:10px;color:#718096;">ä»Šæœˆã®ä»•è¨³æ•°</div>
            </div>
            <div style="flex:1;padding:10px;background:#E8F5E9;border-radius:12px;">
              <div style="font-size:22px;font-weight:800;color:#00C853;">98%</div>
              <div style="font-size:10px;color:#718096;">AIæ­£ç­”ç‡</div>
            </div>
            <div style="flex:1;padding:10px;background:#FFF3E0;border-radius:12px;">
              <div style="font-size:22px;font-weight:800;color:#FF8F00;">3</div>
              <div style="font-size:10px;color:#718096;">è¦ç¢ºèª</div>
            </div>
          </div>
        </div>

        <div class="spacer"></div>
      </div>

      <!-- ===== SCREEN 2: SCAN ===== -->
      <div class="screen scan-screen" id="screen-scan">
        <div class="camera-view">
          <div class="scan-corners">
            <div class="scan-corner tl"></div>
            <div class="scan-corner tr"></div>
            <div class="scan-corner bl"></div>
            <div class="scan-corner br"></div>
          </div>
          <div class="fake-receipt">
            <div class="receipt-title">é ˜ å æ›¸</div>
            ã‚¹ã‚¿ãƒ¼ãƒãƒƒã‚¯ã‚¹<br>
            æ¸‹è°·ãƒãƒ¼ã‚¯ã‚·ãƒ†ã‚£åº—<br>
            â”€â”€â”€â”€â”€â”€â”€â”€â”€<br>
            ã‚«ãƒ•ã‚§ãƒ©ãƒ† Tall Â¥480<br>
            ãƒãƒ§ã‚³ã‚¹ã‚³ãƒ¼ãƒ³  Â¥100<br>
            â”€â”€â”€â”€â”€â”€â”€â”€â”€<br>
            åˆè¨ˆ      Â¥580<br>
            (ç¨è¾¼)
          </div>
          <div class="scan-guide">ğŸ“„ é ˜åæ›¸ã‚’ãƒ•ãƒ¬ãƒ¼ãƒ ã«åˆã‚ã›ã¦ãã ã•ã„</div>
        </div>
        <div class="scan-controls">
          <div class="capture-btn" onclick="simulateScan()"></div>
          <div class="scan-options">
            <div class="scan-option">
              <div class="scan-option-icon">ğŸ“</div>
              <span>ã‚¢ãƒ«ãƒãƒ </span>
            </div>
            <div class="scan-option">
              <div class="scan-option-icon">âš¡</div>
              <span>é€£ç¶šæ’®å½±</span>
            </div>
            <div class="scan-option">
              <div class="scan-option-icon">ğŸ“‹</div>
              <span>å±¥æ­´</span>
            </div>
          </div>
        </div>
      </div>

      <!-- ===== SCREEN 3: OCR RESULT ===== -->
      <div class="screen" id="screen-result">
        <div class="result-header">
          <div class="result-check">âœ“</div>
          <h2>èª­ã¿å–ã‚Šå®Œäº†</h2>
          <p>AI-OCRãŒé ˜åæ›¸ã‚’è§£æã—ã¾ã—ãŸï¼ˆ0.8ç§’ï¼‰</p>
        </div>

        <div class="ocr-card">
          <div class="ocr-card-header">
            <div class="ocr-store-icon">â˜•</div>
            <div>
              <div class="ocr-store-name">ã‚¹ã‚¿ãƒ¼ãƒãƒƒã‚¯ã‚¹</div>
              <div class="ocr-store-branch">æ¸‹è°·ãƒãƒ¼ã‚¯ã‚·ãƒ†ã‚£åº—</div>
            </div>
          </div>
          <div class="ocr-fields">
            <div class="ocr-field">
              <span class="ocr-field-label">ğŸ“… æ—¥ä»˜</span>
              <span class="ocr-field-value">2026/02/15</span>
            </div>
            <div class="ocr-field">
              <span class="ocr-field-label">ğŸ’´ é‡‘é¡</span>
              <span class="ocr-field-value amount">Â¥580</span>
            </div>
            <div class="ocr-field">
              <span class="ocr-field-label">ğŸ·ï¸ ç§‘ç›®</span>
              <span class="ocr-field-value">
                ä¼šè­°è²»
                <span class="ai-badge">ğŸ¤– AIæ¨å®š <span class="confidence">95%</span></span>
              </span>
            </div>
            <div class="ocr-field">
              <span class="ocr-field-label">ğŸ“ å†…å®¹</span>
              <span class="ocr-field-value">ã‚«ãƒ•ã‚§ãƒ©ãƒ† Tall, ãƒãƒ§ã‚³ã‚¹ã‚³ãƒ¼ãƒ³</span>
            </div>
            <div class="ocr-field">
              <span class="ocr-field-label">ğŸ§¾ æ¶ˆè²»ç¨</span>
              <span class="ocr-field-value">Â¥52ï¼ˆç¨ç‡10%ï¼‰</span>
            </div>
            <div class="ocr-field">
              <span class="ocr-field-label">ğŸ’³ æ”¯æ‰•æ–¹æ³•</span>
              <span class="ocr-field-value">ã‚¯ãƒ¬ã‚¸ãƒƒãƒˆã‚«ãƒ¼ãƒ‰</span>
            </div>
          </div>
        </div>

        <!-- AI Suggestion -->
        <div class="card" style="background:linear-gradient(135deg,#f0f9ff,#e8f5e9);border:1px solid #c8e6c9;">
          <div class="card-title"><span class="icon">ğŸ¤–</span> AIææ¡ˆ</div>
          <div style="font-size:12px;color:#2D3748;line-height:1.6;">
            éå»ã®å±¥æ­´ã‹ã‚‰ã€ã“ã®åº—èˆ—ã§ã®æ”¯å‡ºã¯<strong>ä¼šè­°è²»</strong>ã¨ã—ã¦è¨ˆä¸Šã•ã‚Œã‚‹ã“ã¨ãŒå¤šã„ã§ã™ã€‚
            åŒæ—¥ã«<strong>äº¤é€šè²»ï¼ˆæ¸‹è°·é§…ï¼‰</strong>ã®ä»•è¨³ã‚‚ã‚ã‚Šã¾ã™ã€‚é–¢é€£ã¥ã‘ã¾ã™ã‹ï¼Ÿ
          </div>
          <div style="display:flex;gap:6px;margin-top:10px;">
            <div style="padding:6px 14px;background:#00C853;color:#fff;border-radius:20px;font-size:11px;font-weight:700;cursor:pointer;">é–¢é€£ã¥ã‘ã‚‹</div>
            <div style="padding:6px 14px;background:#f0f4f8;color:#718096;border-radius:20px;font-size:11px;font-weight:600;cursor:pointer;">ã‚¹ã‚­ãƒƒãƒ—</div>
          </div>
        </div>

        <div class="btn-row">
          <button class="btn btn-primary" onclick="showNotif('ä»•è¨³ã‚’ç™»éŒ²ã—ã¾ã—ãŸ âœ…')">âœ“ ç¢ºèªãƒ»ç™»éŒ²</button>
          <button class="btn btn-secondary">âœï¸ ä¿®æ­£</button>
        </div>

        <div class="spacer"></div>
      </div>

      <!-- ===== SCREEN 4: JOURNAL LIST ===== -->
      <div class="screen" id="screen-journal">
        <div class="section-title" style="margin-bottom:12px;">ğŸ“’ ä»•è¨³ä¸€è¦§</div>

        <div class="month-tabs">
          <div class="month-tab">12æœˆ</div>
          <div class="month-tab">1æœˆ</div>
          <div class="month-tab active">2æœˆ</div>
        </div>

        <div class="filter-row">
          <div class="filter-chip active">ã™ã¹ã¦</div>
          <div class="filter-chip">äº¤é€šè²»</div>
          <div class="filter-chip">ä¼šè­°è²»</div>
          <div class="filter-chip">æ¶ˆè€—å“</div>
          <div class="filter-chip">é€šä¿¡è²»</div>
        </div>

        <!-- Journal entries -->
        <div class="journal-card">
          <div class="journal-emoji emoji-bg-green">â˜•</div>
          <div class="journal-info">
            <div class="journal-store">ã‚¹ã‚¿ãƒ¼ãƒãƒƒã‚¯ã‚¹</div>
            <div class="journal-meta"><span>2/15</span><span>æ¸‹è°·ãƒãƒ¼ã‚¯ã‚·ãƒ†ã‚£åº—</span></div>
          </div>
          <div class="journal-right">
            <div class="journal-amount">Â¥580</div>
            <div class="journal-category cat-meeting">ä¼šè­°è²»</div>
          </div>
        </div>

        <div class="journal-card">
          <div class="journal-emoji emoji-bg-blue">ğŸš„</div>
          <div class="journal-info">
            <div class="journal-store">JRæ±æ—¥æœ¬</div>
            <div class="journal-meta"><span>2/14</span><span>æ±äº¬â†’å¤§é˜ªï¼ˆã®ãã¿ï¼‰</span></div>
          </div>
          <div class="journal-right">
            <div class="journal-amount">Â¥12,870</div>
            <div class="journal-category cat-travel">äº¤é€šè²»</div>
          </div>
        </div>

        <div class="journal-card">
          <div class="journal-emoji emoji-bg-orange">ğŸ–Šï¸</div>
          <div class="journal-info">
            <div class="journal-store">Amazon</div>
            <div class="journal-meta"><span>2/13</span><span>USBãƒãƒ–ãƒ»ã‚±ãƒ¼ãƒ–ãƒ«</span></div>
          </div>
          <div class="journal-right">
            <div class="journal-amount">Â¥3,280</div>
            <div class="journal-category cat-supplies">æ¶ˆè€—å“è²»</div>
          </div>
        </div>

        <div class="journal-card">
          <div class="journal-emoji emoji-bg-pink">ğŸ½ï¸</div>
          <div class="journal-info">
            <div class="journal-store">æ¾å±‹</div>
            <div class="journal-meta"><span>2/12</span><span>æ‰“ã¡åˆã‚ã›æ˜¼é£Ÿ</span></div>
          </div>
          <div class="journal-right">
            <div class="journal-amount">Â¥890</div>
            <div class="journal-category cat-meeting">ä¼šè­°è²»</div>
          </div>
        </div>

        <div class="journal-card">
          <div class="journal-emoji emoji-bg-purple">ğŸ“±</div>
          <div class="journal-info">
            <div class="journal-store">ã‚½ãƒ•ãƒˆãƒãƒ³ã‚¯</div>
            <div class="journal-meta"><span>2/10</span><span>æœˆé¡åˆ©ç”¨æ–™</span></div>
          </div>
          <div class="journal-right">
            <div class="journal-amount">Â¥8,800</div>
            <div class="journal-category cat-comm">é€šä¿¡è²»</div>
          </div>
        </div>

        <div class="journal-card">
          <div class="journal-emoji emoji-bg-blue">ğŸš•</div>
          <div class="journal-info">
            <div class="journal-store">JapanTaxi</div>
            <div class="journal-meta"><span>2/9</span><span>å…­æœ¬æœ¨â†’å“å·</span></div>
          </div>
          <div class="journal-right">
            <div class="journal-amount">Â¥4,200</div>
            <div class="journal-category cat-travel">äº¤é€šè²»</div>
          </div>
        </div>

        <div class="journal-card">
          <div class="journal-emoji emoji-bg-green">ğŸ¨</div>
          <div class="journal-info">
            <div class="journal-store">æ±æ¨ªINN</div>
            <div class="journal-meta"><span>2/8</span><span>å¤§é˜ªå‡ºå¼µï¼ˆ1æ³Šï¼‰</span></div>
          </div>
          <div class="journal-right">
            <div class="journal-amount">Â¥6,800</div>
            <div class="journal-category cat-travel">æ—…è²»</div>
          </div>
        </div>

        <div class="journal-card">
          <div class="journal-emoji emoji-bg-orange">ğŸ“¦</div>
          <div class="journal-info">
            <div class="journal-store">ãƒ¨ãƒ‰ãƒã‚·ã‚«ãƒ¡ãƒ©</div>
            <div class="journal-meta"><span>2/6</span><span>ãƒã‚¦ã‚¹ãƒ»ã‚­ãƒ¼ãƒœãƒ¼ãƒ‰</span></div>
          </div>
          <div class="journal-right">
            <div class="journal-amount">Â¥15,800</div>
            <div class="journal-category cat-supplies">æ¶ˆè€—å“è²»</div>
          </div>
        </div>

        <div class="journal-card">
          <div class="journal-emoji emoji-bg-gray">ğŸ“„</div>
          <div class="journal-info">
            <div class="journal-store">ã‚³ãƒ³ãƒ“ãƒ‹ãƒ—ãƒªãƒ³ãƒˆ</div>
            <div class="journal-meta"><span>2/5</span><span>è³‡æ–™å°åˆ·</span></div>
          </div>
          <div class="journal-right">
            <div class="journal-amount">Â¥320</div>
            <div class="journal-category cat-misc">é›‘è²»</div>
          </div>
        </div>

        <!-- Summary bar -->
        <div class="card" style="margin-top:8px;">
          <div style="display:flex;justify-content:space-between;align-items:center;">
            <div>
              <div style="font-size:11px;color:#718096;">2æœˆã®åˆè¨ˆï¼ˆ47ä»¶ï¼‰</div>
              <div style="font-size:20px;font-weight:800;color:#1E3A5F;">Â¥234,500</div>
            </div>
            <div style="padding:8px 16px;background:linear-gradient(135deg,#1E3A5F,#2c5282);color:#fff;border-radius:12px;font-size:12px;font-weight:700;cursor:pointer;">
              CSVã‚¨ã‚¯ã‚¹ãƒãƒ¼ãƒˆ
            </div>
          </div>
        </div>

        <div class="spacer"></div>
      </div>

      <!-- ===== SCREEN 5: REPORT ===== -->
      <div class="screen" id="screen-report">
        <div class="section-title" style="margin-bottom:12px;">ğŸ“ˆ ãƒ¬ãƒãƒ¼ãƒˆ</div>

        <div class="report-toggle">
          <div class="report-toggle-item active" onclick="this.parentElement.querySelectorAll('.report-toggle-item').forEach(e=>e.classList.remove('active'));this.classList.add('active');">æœˆæ¬¡æ¨ç§»</div>
          <div class="report-toggle-item" onclick="this.parentElement.querySelectorAll('.report-toggle-item').forEach(e=>e.classList.remove('active'));this.classList.add('active');">ç§‘ç›®åˆ¥</div>
          <div class="report-toggle-item" onclick="this.parentElement.querySelectorAll('.report-toggle-item').forEach(e=>e.classList.remove('active'));this.classList.add('active');">å‰å¹´æ¯”è¼ƒ</div>
        </div>

        <!-- Bar Chart: Monthly Expenses -->
        <div class="card">
          <div class="card-title"><span class="icon">ğŸ“Š</span> æœˆåˆ¥çµŒè²»æ¨ç§»</div>
          <div class="bar-chart">
            <div class="bar-group">
              <div class="bar-value">18.2</div>
              <div class="bar" style="height:52%;background:linear-gradient(180deg,#1E3A5F,#2c5282);"></div>
              <div class="bar-label">9æœˆ</div>
            </div>
            <div class="bar-group">
              <div class="bar-value">22.1</div>
              <div class="bar" style="height:63%;background:linear-gradient(180deg,#1E3A5F,#2c5282);"></div>
              <div class="bar-label">10æœˆ</div>
            </div>
            <div class="bar-group">
              <div class="bar-value">19.5</div>
              <div class="bar" style="height:56%;background:linear-gradient(180deg,#1E3A5F,#2c5282);"></div>
              <div class="bar-label">11æœˆ</div>
            </div>
            <div class="bar-group">
              <div class="bar-value">31.2</div>
              <div class="bar" style="height:89%;background:linear-gradient(180deg,#FF8F00,#FFA726);"></div>
              <div class="bar-label">12æœˆ</div>
            </div>
            <div class="bar-group">
              <div class="bar-value">25.8</div>
              <div class="bar" style="height:74%;background:linear-gradient(180deg,#1E3A5F,#2c5282);"></div>
              <div class="bar-label">1æœˆ</div>
            </div>
            <div class="bar-group">
              <div class="bar-value">23.5</div>
              <div class="bar" style="height:67%;background:linear-gradient(180deg,#00C853,#69F0AE);"></div>
              <div class="bar-label">2æœˆ</div>
            </div>
          </div>
          <div class="text-center text-muted">å˜ä½: ä¸‡å†† ï½œ 12æœˆã¯å¿˜å¹´ä¼šã‚·ãƒ¼ã‚ºãƒ³ã§å¢—åŠ </div>
        </div>

        <!-- Pie Chart: By Category -->
        <div class="card">
          <div class="card-title"><span class="icon">ğŸ©</span> ç§‘ç›®åˆ¥å†…è¨³ï¼ˆ2æœˆï¼‰</div>
          <div class="pie-container">
            <div class="pie-chart">
              <div class="pie-center">Â¥234.5K</div>
            </div>
            <div class="legend">
              <div class="legend-item">
                <div class="legend-dot" style="background:#1E3A5F"></div>
                <span class="legend-label">äº¤é€šè²»</span>
                <span class="legend-val">30%</span>
              </div>
              <div class="legend-item">
                <div class="legend-dot" style="background:#00C853"></div>
                <span class="legend-label">ä¼šè­°è²»</span>
                <span class="legend-val">24%</span>
              </div>
              <div class="legend-item">
                <div class="legend-dot" style="background:#FF8F00"></div>
                <span class="legend-label">æ¶ˆè€—å“è²»</span>
                <span class="legend-val">18%</span>
              </div>
              <div class="legend-item">
                <div class="legend-dot" style="background:#5C6BC0"></div>
                <span class="legend-label">é€šä¿¡è²»</span>
                <span class="legend-val">16%</span>
              </div>
              <div class="legend-item">
                <div class="legend-dot" style="background:#e0e0e0"></div>
                <span class="legend-label">ãã®ä»–</span>
                <span class="legend-val">12%</span>
              </div>
            </div>
          </div>
        </div>

        <!-- Year Comparison -->
        <div class="card">
          <div class="card-title"><span class="icon">ğŸ“…</span> å‰å¹´æ¯”è¼ƒï¼ˆ2æœˆï¼‰</div>
          <div class="comparison-row">
            <span class="comp-label">åˆè¨ˆçµŒè²»</span>
            <div class="comp-values">
              <span class="comp-current">Â¥234,500</span>
              <span class="comp-change up">+12.3%</span>
            </div>
          </div>
          <div class="comparison-row">
            <span class="comp-label">ä»•è¨³ä»¶æ•°</span>
            <div class="comp-values">
              <span class="comp-current">47ä»¶</span>
              <span class="comp-change up">+8ä»¶</span>
            </div>
          </div>
          <div class="comparison-row">
            <span class="comp-label">äº¤é€šè²»</span>
            <div class="comp-values">
              <span class="comp-current">Â¥70,350</span>
              <span class="comp-change down">-5.2%</span>
            </div>
          </div>
          <div class="comparison-row">
            <span class="comp-label">ä¼šè­°è²»</span>
            <div class="comp-values">
              <span class="comp-current">Â¥56,200</span>
              <span class="comp-change up">+22.8%</span>
            </div>
          </div>
          <div class="comparison-row">
            <span class="comp-label">AIæ­£ç­”ç‡</span>
            <div class="comp-values">
              <span class="comp-current">98%</span>
              <span class="comp-change down">+6pt</span>
            </div>
          </div>
        </div>

        <div class="spacer"></div>
      </div>

      <!-- ===== SCREEN 6: TAX RETURN ===== -->
      <div class="screen" id="screen-tax">
        <div class="section-title" style="margin-bottom:12px;">ğŸ“‹ ç¢ºå®šç”³å‘Š</div>

        <!-- Progress -->
        <div class="card">
          <div class="card-title"><span class="icon">ğŸ¯</span> ç”³å‘Šæº–å‚™ã®é€²æ—</div>
          <div class="progress-section">
            <div class="progress-header">
              <span class="progress-label">å…¨ä½“ã®é€²æ—</span>
              <span class="progress-pct">87%</span>
            </div>
            <div class="progress-bar-bg">
              <div class="progress-bar-fill" style="width:87%"></div>
            </div>
          </div>
          <div style="display:flex;flex-direction:column;gap:8px;font-size:12px;">
            <div style="display:flex;align-items:center;gap:8px;">
              <span style="color:#00C853;">âœ…</span>
              <span>çµŒè²»ã®å…¥åŠ›ãƒ»ä»•è¨³ï¼ˆå®Œäº†ï¼‰</span>
            </div>
            <div style="display:flex;align-items:center;gap:8px;">
              <span style="color:#00C853;">âœ…</span>
              <span>å£²ä¸Šãƒ‡ãƒ¼ã‚¿ã®å–è¾¼ï¼ˆå®Œäº†ï¼‰</span>
            </div>
            <div style="display:flex;align-items:center;gap:8px;">
              <span style="color:#00C853;">âœ…</span>
              <span>æ§é™¤æƒ…å ±ã®å…¥åŠ›ï¼ˆå®Œäº†ï¼‰</span>
            </div>
            <div style="display:flex;align-items:center;gap:8px;">
              <span style="color:#FF8F00;">â³</span>
              <span style="color:#FF8F00;font-weight:600;">æœ€çµ‚ç¢ºèªï¼ˆæ®‹ã‚Š3ä»¶ï¼‰</span>
            </div>
          </div>
        </div>

        <!-- Tax Preview -->
        <div class="card" style="padding:0;overflow:hidden;">
          <div style="background:#1E3A5F;color:#fff;padding:12px 16px;font-size:13px;font-weight:700;">
            ğŸ“„ ç¢ºå®šç”³å‘Šæ›¸B ãƒ—ãƒ¬ãƒ“ãƒ¥ãƒ¼
          </div>
          <div class="tax-preview" style="border:none;margin:0;border-radius:0;">
            <div class="tax-preview-stamp">ä¸‹æ›¸ã</div>
            <div class="tax-title">æ‰€å¾—ç¨åŠã³å¾©èˆˆç‰¹åˆ¥æ‰€å¾—ç¨ã®ç¢ºå®šç”³å‘Šæ›¸B</div>
            <div class="tax-subtitle">ä»¤å’Œ7å¹´åˆ†ï¼ˆ2025å¹´1æœˆï½12æœˆï¼‰</div>

            <div class="tax-section-title">åå…¥é‡‘é¡ç­‰</div>
            <div class="tax-row">
              <span class="tax-row-label">ã‚¢ äº‹æ¥­ãƒ»å–¶æ¥­ç­‰</span>
              <span class="tax-row-value">Â¥8,400,000</span>
            </div>
            <div class="tax-row">
              <span class="tax-row-label">ã‚¯ é›‘ï¼ˆãã®ä»–ï¼‰</span>
              <span class="tax-row-value">Â¥120,000</span>
            </div>

            <div class="tax-section-title">æ‰€å¾—é‡‘é¡ç­‰</div>
            <div class="tax-row">
              <span class="tax-row-label">â‘  äº‹æ¥­ãƒ»å–¶æ¥­ç­‰</span>
              <span class="tax-row-value">Â¥5,280,000</span>
            </div>

            <div class="tax-section-title">æ‰€å¾—ã‹ã‚‰å·®ã—å¼•ã‹ã‚Œã‚‹é‡‘é¡</div>
            <div class="tax-row">
              <span class="tax-row-label">â‘¥ ç¤¾ä¼šä¿é™ºæ–™æ§é™¤</span>
              <span class="tax-row-value">Â¥780,000</span>
            </div>
            <div class="tax-row">
              <span class="tax-row-label">â‘§ ç”Ÿå‘½ä¿é™ºæ–™æ§é™¤</span>
              <span class="tax-row-value">Â¥40,000</span>
            </div>
            <div class="tax-row">
              <span class="tax-row-label">â‘« åŸºç¤æ§é™¤</span>
              <span class="tax-row-value">Â¥480,000</span>
            </div>
            <div class="tax-row">
              <span class="tax-row-label">â‘¬ é’è‰²ç”³å‘Šç‰¹åˆ¥æ§é™¤</span>
              <span class="tax-row-value">Â¥650,000</span>
            </div>

            <div class="tax-section-title">ç¨é‡‘ã®è¨ˆç®—</div>
            <div class="tax-row">
              <span class="tax-row-label">ã‰– èª²ç¨ã•ã‚Œã‚‹æ‰€å¾—é‡‘é¡</span>
              <span class="tax-row-value">Â¥3,330,000</span>
            </div>
            <div class="tax-row">
              <span class="tax-row-label">ã‰— ä¸Šã®ã‰–ã«å¯¾ã™ã‚‹ç¨é¡</span>
              <span class="tax-row-value">Â¥235,500</span>
            </div>
            <div class="tax-total-row">
              <span>ãŠ¹ ç´ã‚ã‚‹ç¨é‡‘</span>
              <span>Â¥240,500</span>
            </div>
          </div>
        </div>

        <!-- Action Buttons -->
        <div style="display:flex;flex-direction:column;gap:10px;margin-top:4px;">
          <button class="btn btn-accent" onclick="showNotif('e-Taxé€£æºã‚’æº–å‚™ä¸­...')">
            ğŸ›ï¸ e-Taxã§æå‡º
          </button>
          <button class="btn btn-warning" onclick="showNotif('PDFã‚’ç”Ÿæˆä¸­...')">
            ğŸ“¥ PDFãƒ€ã‚¦ãƒ³ãƒ­ãƒ¼ãƒ‰
          </button>
          <button class="btn btn-secondary">
            ğŸ–¨ï¸ å°åˆ·ç”¨ãƒ—ãƒ¬ãƒ“ãƒ¥ãƒ¼
          </button>
        </div>

        <!-- Info Card -->
        <div class="card" style="margin-top:12px;background:linear-gradient(135deg,#E3F2FD,#BBDEFB);border:1px solid #90CAF9;">
          <div style="font-size:12px;color:#1565C0;line-height:1.6;">
            <strong>ğŸ“Œ ç”³å‘ŠæœŸé™:</strong> 2026å¹´3æœˆ16æ—¥ï¼ˆæœˆï¼‰<br>
            <strong>ğŸ“Œ æ®‹ã‚Šæ—¥æ•°:</strong> <span style="font-weight:800;color:#C62828;">26æ—¥</span><br>
            <strong>ğŸ“Œ æå‡ºæ–¹æ³•:</strong> e-Taxï¼ˆãƒã‚¤ãƒŠãƒ³ãƒãƒ¼ã‚«ãƒ¼ãƒ‰æ–¹å¼ï¼‰æ¨å¥¨
          </div>
        </div>

        <div class="spacer"></div>
      </div>
    </div>

    <!-- ===== TAB BAR ===== -->
    <div class="tab-bar">
      <div class="tab-item active" data-screen="home" onclick="switchTab(0)">
        <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M3 9l9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z"/><polyline points="9 22 9 12 15 12 15 22"/></svg>
        <span>ãƒ›ãƒ¼ãƒ </span>
        <div class="tab-dot"></div>
      </div>
      <div class="tab-item" data-screen="scan" onclick="switchTab(1)">
        <div class="scan-btn-bg">
          <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2.5" stroke-linecap="round" stroke-linejoin="round"><path d="M23 19a2 2 0 0 1-2 2H3a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h4l2-3h6l2 3h4a2 2 0 0 1 2 2z"/><circle cx="12" cy="13" r="4"/></svg>
        </div>
        <span>ã‚¹ã‚­ãƒ£ãƒ³</span>
      </div>
      <div class="tab-item" data-screen="result" onclick="switchTab(2)">
        <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"/><polyline points="14 2 14 8 20 8"/><line x1="16" y1="13" x2="8" y2="13"/><line x1="16" y1="17" x2="8" y2="17"/></svg>
        <span>çµæœ</span>
      </div>
      <div class="tab-item" data-screen="journal" onclick="switchTab(3)">
        <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><line x1="8" y1="6" x2="21" y2="6"/><line x1="8" y1="12" x2="21" y2="12"/><line x1="8" y1="18" x2="21" y2="18"/><line x1="3" y1="6" x2="3.01" y2="6"/><line x1="3" y1="12" x2="3.01" y2="12"/><line x1="3" y1="18" x2="3.01" y2="18"/></svg>
        <span>ä»•è¨³</span>
      </div>
      <div class="tab-item" data-screen="report" onclick="switchTab(4)">
        <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><line x1="18" y1="20" x2="18" y2="10"/><line x1="12" y1="20" x2="12" y2="4"/><line x1="6" y1="20" x2="6" y2="14"/></svg>
        <span>ãƒ¬ãƒãƒ¼ãƒˆ</span>
      </div>
      <div class="tab-item" data-screen="tax" onclick="switchTab(5)">
        <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><rect x="2" y="3" width="20" height="14" rx="2" ry="2"/><line x1="8" y1="21" x2="16" y2="21"/><line x1="12" y1="17" x2="12" y2="21"/></svg>
        <span>ç”³å‘Š</span>
      </div>
    </div>
  </div>
</div>

<script>
/* ========== TAB SWITCHING ========== */
const screens = ['home', 'scan', 'result', 'journal', 'report', 'tax'];
const screenEls = screens.map(s => document.getElementById('screen-' + s));
const tabItems = document.querySelectorAll('.tab-item');
const header = document.querySelector('.app-header');
const headerH1 = header.querySelector('h1');
const headerSub = header.querySelector('.subtitle');

const headerConfig = [
  { title: 'ğŸ“‹ ã‚«ã‚¯ã‚¹ã‚­ãƒ£ãƒ³', sub: 'KakuScan - AIç¢ºå®šç”³å‘Šã‚¢ã‚·ã‚¹ã‚¿ãƒ³ãƒˆ' },
  { title: 'ğŸ“¸ ã‚¹ã‚­ãƒ£ãƒ³', sub: 'é ˜åæ›¸ã‚’æ’®å½±ã—ã¦è‡ªå‹•èª­å–' },
  { title: 'ğŸ“„ èª­å–çµæœ', sub: 'AI-OCRè§£æçµæœ' },
  { title: 'ğŸ“’ ä»•è¨³ä¸€è¦§', sub: 'çµŒè²»ã®ç®¡ç†ãƒ»æ¤œç´¢' },
  { title: 'ğŸ“ˆ ãƒ¬ãƒãƒ¼ãƒˆ', sub: 'çµŒè²»åˆ†æãƒ»å¯è¦–åŒ–' },
  { title: 'ğŸ“‹ ç¢ºå®šç”³å‘Š', sub: 'ç”³å‘Šæ›¸ã®ä½œæˆãƒ»æå‡º' },
];

function switchTab(index) {
  screenEls.forEach(el => el.classList.remove('active'));
  tabItems.forEach(el => el.classList.remove('active'));
  screenEls[index].classList.add('active');
  tabItems[index].classList.add('active');

  headerH1.textContent = headerConfig[index].title;
  headerSub.textContent = headerConfig[index].sub;

  // Hide header on scan screen for immersion
  if (index === 1) {
    header.style.display = 'none';
  } else {
    header.style.display = '';
  }

  // Scroll to top
  document.querySelector('.content-area').scrollTop = 0;
}

/* ========== NOTIFICATIONS ========== */
const floatNotif = document.getElementById('floatNotif');
const notifText = document.getElementById('notifText');

function showNotif(text) {
  notifText.textContent = text;
  floatNotif.style.display = 'flex';
  floatNotif.style.animation = 'none';
  floatNotif.offsetHeight; // reflow
  floatNotif.style.animation = 'slideDown 0.3s ease';
  setTimeout(() => {
    floatNotif.style.display = 'none';
  }, 2500);
}

/* ========== SCAN SIMULATION ========== */
function simulateScan() {
  showNotif('ğŸ“¸ èª­ã¿å–ã‚Šä¸­...');
  setTimeout(() => {
    switchTab(2);
    showNotif('âœ¨ èª­ã¿å–ã‚Šå®Œäº†ï¼');
  }, 1200);
}

/* ========== FILTER CHIPS ========== */
document.querySelectorAll('.filter-chip').forEach(chip => {
  chip.addEventListener('click', function() {
    document.querySelectorAll('.filter-chip').forEach(c => c.classList.remove('active'));
    this.classList.add('active');
  });
});

/* ========== MONTH TABS ========== */
document.querySelectorAll('.month-tab').forEach(tab => {
  tab.addEventListener('click', function() {
    document.querySelectorAll('.month-tab').forEach(t => t.classList.remove('active'));
    this.classList.add('active');
  });
});

/* ========== INIT ========== */
// Animate bars on report view
const observer = new IntersectionObserver((entries) => {
  entries.forEach(entry => {
    if (entry.isIntersecting) {
      entry.target.querySelectorAll('.bar').forEach((bar, i) => {
        const h = bar.style.height;
        bar.style.height = '4px';
        setTimeout(() => { bar.style.height = h; }, i * 100);
      });
    }
  });
}, { threshold: 0.3 });

document.querySelectorAll('.bar-chart').forEach(chart => observer.observe(chart));
</script>
</body>
</html>
